<html>
<! Copyright (c) Realtek Semiconductor Corp., 2003. All Rights Reserved. ->
<head>
<meta HTTP-EQUIV='Pragma' CONTENT='no-cache'>
<meta HTTP-equiv="Cache-Control" content="no-cache">
<meta http-equiv="Content-Type" content="text/html" charset="utf-8">
<% getIndex("no-cache"); %>
<title>상태 정보</title>
<script type="text/javascript" src="util_gw.js"> </script>
<% getInfo("include_css"); %>
<script>
var wlanmode, wlanclientnum;
var ipv6_mode = "<% write(getIndex("ipv6_autoconfig_method"));%>";
var speedW="&nbsp;";
var speedL1="&nbsp;";
var speedL2="&nbsp;";
var speedL3="&nbsp;";
var speedL4="&nbsp;";
var link_status;
var nowCount=0;
var curLoginUser = <% getIndex("isAdmin"); %>;

function check_ip_mode()
{
	var dhcpMode = ((<% getIndex("wanDhcp") %> == 1)?"auto":"none");

	if(dhcpMode == "auto")
		return;

	document.formWanIpRenewal.apply.disabled = true;
}

function disableReflesh(f)
{
	f.apply.disabled=true;
    f.submit();
}

function portSpeed()
{
	link_status = <% getInfo("wan_link_status"); %>;
	if ((link_status & 7) == 7)
		speedW = '1000M';
	else if ((link_status & 7) == 5)
		speedW = '500M';
	else if ((link_status & 7) == 3)
		speedW = '100M';
	else if ((link_status & 7) == 1)
		speedW = '10M';

	link_status = <% getInfo("lan1_link_status"); %>;
	if ((link_status & 7) == 7)
		speedL1 = '1000M';
	else if ((link_status & 7) == 5)
		speedL1 = '500M';
	else if ((link_status & 7) == 3)
		speedL1 = '100M';
	else if ((link_status & 7) == 1)
		speedL1 = '10M';

	link_status = <% getInfo("lan2_link_status"); %>;
	if ((link_status & 7) == 7)
		speedL2 = '1000M';
	else if ((link_status & 7) == 5)
		speedL2 = '500M';
	else if ((link_status & 7) == 3)
		speedL2 = '100M';
	else if ((link_status & 7) == 1)
		speedL2 = '10M';

	link_status = <% getInfo("lan3_link_status"); %>;
	if ((link_status & 7) == 7)
		speedL3 = '1000M';
	else if ((link_status & 7) == 5)
		speedL3 = '500M';
	else if ((link_status & 7) == 3)
		speedL3 = '100M';
	else if ((link_status & 7) == 1)
		speedL3 = '10M';

	link_status = <% getInfo("lan4_link_status"); %>;
	if ((link_status & 7) == 7)
		speedL4 = '1000M';
	else if ((link_status & 7) == 5)
		speedL4 = '500M';
	else if ((link_status & 7) == 3)
		speedL4 = '100M';
	else if ((link_status & 7) == 1)
		speedL4 = '10M';
}

function portStatus()
{
	link_status = <% getInfo("wan_linkUp"); %>;

	if (link_status == 1)
		wanStatus.style.background = '#00ff00';
	else
		wanStatus.style.background = '#8b0000';

	link_status = <% getInfo("lan1_linkUp"); %>;
	if (link_status == 1)
		lan1Status.style.background = '#00ff00';
	else
		lan1Status.style.background = '#8b0000';

	link_status = <% getInfo("lan2_linkUp"); %>;
	if (link_status == 1)
		lan2Status.style.background = '#00ff00';
	else
		lan2Status.style.background = '#8b0000';

	link_status = <% getInfo("lan3_linkUp"); %>;
	if (link_status == 1)
		lan3Status.style.background = '#00ff00';
	else
		lan3Status.style.background = '#8b0000';

	link_status = <% getInfo("lan4_linkUp"); %>;
	if (link_status == 1)
		lan4Status.style.background = '#00ff00';
	else
		lan4Status.style.background = '#8b0000';
}

function showWan()
{
	var MultiPppoeEnable= <% getIndex("multiPppoe"); %>;
	var number = <% getIndex("pppoeNo"); %>;
	var dhcptype = <% getIndex("wanDhcp"); %>;
	var ipv6Enable = <% getIndex("ipv6"); %>;


	if(dhcptype == 3 && MultiPppoeEnable == 1)
	{
	   if(number >= 1)
	   {
	  		document.write('\
			 <tr>\
			 <td width=100% colspan=2 class=\"tbl_title\">WAN Configuration</td>\
		  </tr>');

		  document.write('<tr bgcolor="#EEEEEE">\
		    <td width=30%><font size=2><b>Attain IP Protocol</b></td>\
		    <td width=70%><font size=2>\
		            <% getInfo("wanDhcp-current","first"); %></td>\
		  </tr>\
		  <tr bgcolor="#DDDDDD">\
		    <td width=30%><font size=2><b>IP Address</b></td>\
		    <td width=70%><font size=2><% getInfo("wan-ip","first"); %></td>\
		  </tr>\
		  <tr bgcolor="#EEEEEE">\
		    <td width=30%><font size=2><b>Subnet Mask</b></td>\
		    <td width=70%><font size=2><% getInfo("wan-mask","first"); %></td>\
		  </tr>\
		  <tr bgcolor="#DDDDDD">\
		    <td width=30%><font size=2><b>Default Gateway</b></td>\
		    <td width=70%><font size=2><% getInfo("wan-gateway","first"); %></td>\
		  </tr>\
		  <tr bgcolor="#EEEEEE">\
		    <td width=30%><font size=2><b>MAC Address</b></td>\
		    <td width=70%><font size=2><% getInfo("wan-hwaddr","first"); %></td>\
		  </tr>');
		}
		if(number >= 2)
		{
			document.write('\
			 <tr>\
			 <td width=100% colspan=2 class=\"tbl_title\">WAN Configuration</td>\
		  </tr>');

			  document.write('<tr bgcolor="#EEEEEE">\
			    <td width=30%><font size=2><b>Attain IP Protocol</b></td>\
			    <td width=70%><font size=2>\
			            <% getInfo("wanDhcp-current","second"); %></td>\
			  </tr>\
			  <tr bgcolor="#DDDDDD">\
			    <td width=30%><font size=2><b>IP Address</b></td>\
			    <td width=70%><font size=2><% getInfo("wan-ip","second"); %></td>\
			  </tr>\
			  <tr bgcolor="#EEEEEE">\
			    <td width=30%><font size=2><b>Subnet Mask</b></td>\
			    <td width=70%><font size=2><% getInfo("wan-mask","second"); %></td>\
			  </tr>\
			  <tr bgcolor="#DDDDDD">\
			    <td width=30%><font size=2><b>Default Gateway</b></td>\
			    <td width=70%><font size=2><% getInfo("wan-gateway","second"); %></td>\
			  </tr>\
			  <tr bgcolor="#EEEEEE">\
			    <td width=30%><font size=2><b>MAC Address</b></td>\
			    <td width=70%><font size=2><% getInfo("wan-hwaddr","second"); %></td>\
			  </tr>');
		  }
		  if( number >= 3 )
		  {
				document.write('\
				 <tr>\
				 <td width=100% colspan=2 class=\"tbl_title\">WAN Configuration</td>\
			  </tr>');
			  document.write('<tr bgcolor="#EEEEEE">\
			    <td width=30%><font size=2><b>Attain IP Protocol</b></td>\
			    <td width=70%><font size=2>\
			            <% getInfo("wanDhcp-current","third"); %></td>\
			  </tr>\
			  <tr bgcolor="#DDDDDD">\
			    <td width=30%><font size=2><b>IP Address</b></td>\
			    <td width=70%><font size=2><% getInfo("wan-ip","third"); %></td>\
			  </tr>\
			  <tr bgcolor="#EEEEEE">\
			    <td width=30%><font size=2><b>Subnet Mask</b></td>\
			    <td width=70%><font size=2><% getInfo("wan-mask","third"); %></td>\
			  </tr>\
			  <tr bgcolor="#DDDDDD">\
			    <td width=30%><font size=2><b>Default Gateway</b></td>\
			    <td width=70%><font size=2><% getInfo("wan-gateway","third"); %></td>\
			  </tr>\
			  <tr bgcolor="#EEEEEE">\
			    <td width=30%><font size=2><b>MAC Address</b></td>\
			    <td width=70%><font size=2><% getInfo("wan-hwaddr","third"); %></td>\
			  </tr>');
		  }
		  if( number >= 4 )
		  {
				document.write('\
				 <tr>\
				 <td width=100% colspan=2 class=\"tbl_title\">WAN Configuration</td>\
			  </tr>');
			  document.write('<tr bgcolor="#EEEEEE">\
			    <td width=30%><font size=2><b>Attain IP Protocol</b></td>\
			    <td width=70%><font size=2>\
			            <% getInfo("wanDhcp-current","forth"); %></td>\
			  </tr>\
			  <tr bgcolor="#DDDDDD">\
			    <td width=30%><font size=2><b>IP Address</b></td>\
			    <td width=70%><font size=2><% getInfo("wan-ip","forth"); %></td>\
			  </tr>\
			  <tr bgcolor="#EEEEEE">\
			    <td width=30%><font size=2><b>Subnet Mask</b></td>\
			    <td width=70%><font size=2><% getInfo("wan-mask","forth"); %></td>\
			  </tr>\
			  <tr bgcolor="#DDDDDD">\
			    <td width=30%><font size=2><b>Default Gateway</b></td>\
			    <td width=70%><font size=2><% getInfo("wan-gateway","forth"); %></td>\
			  </tr>\
			  <tr bgcolor="#EEEEEE">\
			    <td width=30%><font size=2><b>MAC Address</b></td>\
			    <td width=70%><font size=2><% getInfo("wan-hwaddr","forth"); %></td>\
			  </tr>');
		  }
	}
	else
	{
		document.write('\
	<form action=/boafrm/formWanIpRenewal method=POST name="formWanIpRenewal">\
		 <tr>\
		 <td width=100% colspan=2 class=\"tbl_title\"><font size=2>인터넷 환경</td>\
	  </tr>');
	  document.write('<tr bgcolor="#EEEEEE" height="20px" valign="middle">\
    	<td width=30%><font size=2><b>IP 모드</b></td>\
		<td width=70% valign="middle">\
				<font size=2><% getInfo("wanDhcp-current"); %></font>&nbsp;&nbsp;\
					<input type="button" name="apply" value="IP갱신" style="width:50px; height:20px; font-size:12px; vertical-align:middle; text-align:center; position:relative;" onclick="disableReflesh(this.form);">\
					<input type="hidden" value="/status.htm" name="submit-url">\
				<% check_ip_mode(); %></td>\
	  </tr>\
	  <tr bgcolor="#DDDDDD">\
	    <td width=30%><font size=2><b>IP 주소</b></td>\
	    <td width=70%><font size=2><% getInfo("wan-ip"); %></td>\
	  </tr>\
	  <tr bgcolor="#EEEEEE">\
	    <td width=30%><font size=2><b>서브넷 마스크</b></td>\
	    <td width=70%><font size=2><% getInfo("wan-mask"); %></td>\
	  </tr>\
	  <tr bgcolor="#DDDDDD">\
	    <td width=30%><font size=2><b>게이트웨이</b></td>\
	    <td width=70%><font size=2><% getInfo("wan-gateway"); %></td>\
	  </tr>\
	  <% show_ipv4_information(); %>\
	  <tr bgcolor="#DDDDDD">\
	    <td width=30%><font size=2><b>MAC 주소</b></td>\
	    <td width=70%><font size=2><% getInfo("wan-hwaddr"); %></td>\
	  </tr>');
	}

	if(ipv6Enable)
	{
		document.write('\
		 <tr>\
		 <td width=100% colspan=2 class=\"tbl_title\"><font size=2>IPv6 정보</td>\
	  	</tr>');

	  	document.write('<tr bgcolor="#DDDDDD">\
	    	<td width=30%><font size=2><b>Global Address</b></td>\
	    	<td width=70%><font size=2>\
	    	<' + 'script' + '> if( ipv6_mode == "0" ) document.write("Autoconfiguration"); else document.write("Manual"); <' + '/script' + '></td>\
	  		</tr>\
	 		<% show_ipv6_information(); %>\
	 		<tr bgcolor="#DDDDDD">\
			<td width=30%><font size=2><b>&nbsp;DAD 상태</b></td>\
			<td width=70%><font size=2><% getInfo("dad_duplecheck"); %></td>\
  			</tr>\
  			</form>');
	}
}

function frmOnload()
{
	if (curLoginUser == 0) {
		document.getElementById("cpuUsage").style.display = "";
		document.getElementById("memUsage").style.display = "";
	} else {
		document.getElementById("cpuUsage").style.display = "none";
		document.getElementById("memUsage").style.display = "none";
	}
}

</script>

</head>
<body onload='frmOnload(); mouse_r_click();'>
<blockquote>
<script>
document.write("<h2><%getInfo("devname"); %> 상태 정보</h2>");
</script>
<table border=0 width="550" cellspacing=0 cellpadding=0>
<tr><td><font size=2>
 현재 장비 상태 정보를 보여주는 페이지입니다.
</font></td></tr>

<tr><td><hr size=1 noshade align=top><br></td></tr>
</table>


<table width=550 border=0">
  <tr>
    <td width=100% colspan="2" class="tbl_title"><font size=2>시스템</td>
  </tr>
  <tr bgcolor="#DDDDDD">
    <td width=30%><font size=2><b>가동시간</b></td>
    <td width=70%><font size=2><% getInfo("uptime"); %></td>
  </tr>
  <tr id="cpuUsage" bgcolor="#EEEEEE" style='display:none'>
    <td width=30%><font size=2><b>CPU 사용량</b></td>
    <td width=70%><font size=2><% getInfo("cpu_usage"); %>%</td>
  </tr>
  <tr id="memUsage" bgcolor="#DDDDDD" style='display:none'>
    <td width=30%><font size=2><b>메모리 사용량</b></td>
    <td width=70%><font size=2><% getInfo("ram_usage"); %>%</td>
  </tr>
  <tr bgcolor="#EEEEEE">
    <td width=30%><font size=2><b>펌웨어 버전</b></td>
    <td width=70%><font size=2><% getInfo("fwVersion"); %></td>
  </tr>
  <tr bgcolor="#DDDDDD">
    <td width=30%><font size=2><b>S/N 정보</b></td>
    <td width=70%><font size=2><% getInfo("HW_SERIAL_NO"); %></td>
  </tr>
  <script>
 	var wlan_num = <% getIndex("wlan_num"); %>;
 	var isNewMeshUI =  <% getIndex("isNewMeshUI"); %> ;
  	var wlanMode =new Array();
  	var networkType =new Array();
  	var band=new Array();
  	var ssid_drv=new Array();
  	var channel_drv=new Array();
  	var wep=new Array();
  	var wdsEncrypt=new Array();
  	var meshEncrypt=new Array();
  	var bssid_drv=new Array();
  	var clientnum=new Array();
  	var state_drv=new Array();
  	var rp_enabled=new Array();
	var rp_mode=new Array();
  	var rp_encrypt=new Array();
  	var rp_clientnum=new Array();
  	var rp_ssid=new Array();
  	var rp_bssid=new Array();
  	var rp_state=new Array();
	var wlanDisabled=new Array();

	var mssid_num=<%getIndex("wlan_mssid_num");%>;

	var mssid_disable=new Array(wlan_num);
	var mssid_bssid_drv=new Array(wlan_num);
	var mssid_clientnum=new Array(wlan_num);
	var mssid_band=new Array(wlan_num);
	var mssid_ssid_drv=new Array(wlan_num);
	var mssid_wep=new Array(wlan_num);
	var addnum;

	for(i=0; i<wlan_num; i++)
	{
		mssid_disable[i] = new Array(mssid_num);
		mssid_bssid_drv[i] = new Array(mssid_num);
		mssid_clientnum[i] = new Array(mssid_num);
		mssid_band[i] = new Array(mssid_num);
		mssid_ssid_drv[i] = new Array(mssid_num);
		mssid_wep[i] = new Array(mssid_num);
	}

	if (wlan_num > 0)
	{
		<%getInfo("wlan0-status");%>
		wlanMode[0] =<%getIndex("wlanMode");%>;
		networkType[0] =<%getIndex("networkType");%>;
		band[0] =<%getIndex("band");%>;
		ssid_drv[0] ='<%getInfo("ssid_drv");%>';
		channel_drv[0] ='<%getInfo("channel_drv");%>';
		wep[0] ='<%getInfo("wep");%>';
		wdsEncrypt[0] ='<%getInfo("wdsEncrypt");%>';
 		if (<%getIndex("isMeshDefined");%> == 1)
			meshEncrypt[0] ='<%getInfo("meshEncrypt");%>';
		else
			meshEncrypt[0] ='';

		bssid_drv[0] ='<%getInfo("bssid_drv");%>';
		clientnum[0] ='<%getInfo("clientnum");%>';
		state_drv[0] ='<%getInfo("state_drv");%>';
		wlanDisabled[0] =<%getIndex("wlanDisabled");%>;

		rp_enabled[0] =<%getIndex("isRepeaterEnabled");%>;
		rp_mode[0] =<%getIndex("repeaterMode");%>;
		rp_encrypt[0] ='<%getVirtualInfo("wep", "5");%>';
		rp_ssid[0] ='<%getInfo("repeaterSSID_drv");%>';
		rp_bssid[0] ='<%getInfo("repeaterBSSID");%>';
		rp_state[0] ='<%getInfo("repeaterState");%>';
		rp_clientnum[0] ='<%getInfo("repeaterClientnum");%>';

		if (mssid_num > 0) {
			mssid_ssid_drv[0][0] ='<%getVirtualInfo("ssid_drv", "1");%>';
			mssid_band[0][0] =<%getVirtualIndex("band", "1");%>;
			mssid_disable[0][0] =<%getVirtualIndex("wlanDisabled", "1");%>;
			mssid_bssid_drv[0][0] ='<%getVirtualInfo("bssid_drv", "1");%>';
			mssid_clientnum[0][0] ='<%getVirtualInfo("clientnum", "1");%>';
			mssid_wep[0][0] ='<%getVirtualInfo("wep", "1");%>';
		}

		if (mssid_num > 1) {
			mssid_ssid_drv[0][1] ='<%getVirtualInfo("ssid_drv", "2");%>';
			mssid_band[0][1] =<%getVirtualIndex("band", "2");%>;
			mssid_disable[0][1] =<%getVirtualIndex("wlanDisabled", "2");%>;
			mssid_bssid_drv[0][1] ='<%getVirtualInfo("bssid_drv", "2");%>';
			mssid_clientnum[0][1] ='<%getVirtualInfo("clientnum", "2");%>';
			mssid_wep[0][1] ='<%getVirtualInfo("wep", "2");%>';
		}

		if (mssid_num > 2) {
			mssid_ssid_drv[0][2] ='<%getVirtualInfo("ssid_drv", "3");%>';
			mssid_band[0][2] =<%getVirtualIndex("band", "3");%>;
			mssid_disable[0][2] =<%getVirtualIndex("wlanDisabled", "3");%>;
			mssid_bssid_drv[0][2] ='<%getVirtualInfo("bssid_drv", "3");%>';
			mssid_clientnum[0][2] ='<%getVirtualInfo("clientnum", "3");%>';
			mssid_wep[0][2] ='<%getVirtualInfo("wep", "3");%>';
		}

		if (mssid_num > 3) {
			mssid_ssid_drv[0][3] ='<%getVirtualInfo("ssid_drv", "4");%>';
			mssid_band[0][3] =<%getVirtualIndex("band", "4");%>;
			mssid_disable[0][3] =<%getVirtualIndex("wlanDisabled", "4");%>;
			mssid_bssid_drv[0][3] ='<%getVirtualInfo("bssid_drv", "4");%>';
			mssid_clientnum[0][3] ='<%getVirtualInfo("clientnum", "4");%>';
			mssid_wep[0][3] ='<%getVirtualInfo("wep", "4");%>';
		}

		if (mssid_num > 4) {
			mssid_ssid_drv[0][4] ='<%getVirtualInfo("ssid_drv", "5");%>';
			mssid_band[0][4] =<%getVirtualIndex("band", "5");%>;
			mssid_disable[0][4] =<%getVirtualIndex("wlanDisabled", "5");%>;
			mssid_bssid_drv[0][4] ='<%getVirtualInfo("bssid_drv", "5");%>';
			mssid_clientnum[0][4] ='<%getVirtualInfo("clientnum", "5");%>';
			mssid_wep[0][4] ='<%getVirtualInfo("wep", "5");%>';
		}

		if (mssid_num > 5) {
			mssid_ssid_drv[0][5] ='<%getVirtualInfo("ssid_drv", "6");%>';
			mssid_band[0][5] =<%getVirtualIndex("band", "6");%>;
			mssid_disable[0][5] =<%getVirtualIndex("wlanDisabled", "6");%>;
			mssid_bssid_drv[0][5] ='<%getVirtualInfo("bssid_drv", "6");%>';
			mssid_clientnum[0][5] ='<%getVirtualInfo("clientnum", "6");%>';
			mssid_wep[0][5] ='<%getVirtualInfo("wep", "6");%>';
		}

		if (mssid_num > 6) {
			mssid_ssid_drv[0][6] ='<%getVirtualInfo("ssid_drv", "7");%>';
			mssid_band[0][6] =<%getVirtualIndex("band", "7");%>;
			mssid_disable[0][6] =<%getVirtualIndex("wlanDisabled", "7");%>;
			mssid_bssid_drv[0][6] ='<%getVirtualInfo("bssid_drv", "7");%>';
			mssid_clientnum[0][6] ='<%getVirtualInfo("clientnum", "7");%>';
			mssid_wep[0][6] ='<%getVirtualInfo("wep", "7");%>';
		}

		if (mssid_num > 7) {
			mssid_ssid_drv[0][7] ='<%getVirtualInfo("ssid_drv", "8");%>';
			mssid_band[0][7] =<%getVirtualIndex("band", "8");%>;
			mssid_disable[0][7] =<%getVirtualIndex("wlanDisabled", "8");%>;
			mssid_bssid_drv[0][7] ='<%getVirtualInfo("bssid_drv", "8");%>';
			mssid_clientnum[0][7] ='<%getVirtualInfo("clientnum", "8");%>';
			mssid_wep[0][7] ='<%getVirtualInfo("wep", "8");%>';
		}
	} /*if (wlan_num > 0)*/

	if (wlan_num > 1)
	{
		<%getInfo("wlan1-status");%>
		wlanMode[1] =<%getIndex("wlanMode");%>;
		networkType[1] =<%getIndex("networkType");%>;
		band[1] =<%getIndex("band");%>;
		ssid_drv[1] ='<%getInfo("ssid_drv");%>';
		channel_drv[1] ='<%getInfo("channel_drv");%>';
		wep[1] ='<%getInfo("wep");%>';
		wdsEncrypt[1] ='<%getInfo("wdsEncrypt");%>';
 		if (<%getIndex("isMeshDefined");%> == 1)
			meshEncrypt[1] ='<%getInfo("meshEncrypt");%>';
		else
			meshEncrypt[1] ='';

		bssid_drv[1] ='<%getInfo("bssid_drv");%>';
		clientnum[1] ='<%getInfo("clientnum");%>';
		state_drv[1] ='<%getInfo("state_drv");%>';
		wlanDisabled[1] =<%getIndex("wlanDisabled");%>;

		rp_enabled[1] =<%getIndex("isRepeaterEnabled");%>;
		rp_mode[1] =<%getIndex("repeaterMode");%>;
		rp_encrypt[1] ='<%getVirtualInfo("wep", "5");%>';
		rp_ssid[1] ='<%getInfo("repeaterSSID_drv");%>';
		rp_bssid[1] ='<%getInfo("repeaterBSSID");%>';
		rp_state[1] ='<%getInfo("repeaterState");%>';
		rp_clientnum[1] ='<%getInfo("repeaterClientnum");%>';

		if (mssid_num > 0) {
			mssid_ssid_drv[1][0] ='<%getVirtualInfo("ssid_drv", "1");%>';
			mssid_band[1][0] =<%getVirtualIndex("band", "1");%>;
			mssid_disable[1][0] =<%getVirtualIndex("wlanDisabled", "1");%>;
			mssid_bssid_drv[1][0] ='<%getVirtualInfo("bssid_drv", "1");%>';
			mssid_clientnum[1][0] ='<%getVirtualInfo("clientnum", "1");%>';
			mssid_wep[1][0] ='<%getVirtualInfo("wep", "1");%>';
		}

		if (mssid_num > 1) {
			mssid_ssid_drv[1][1] ='<%getVirtualInfo("ssid_drv", "2");%>';
			mssid_band[1][1] =<%getVirtualIndex("band", "2");%>;
			mssid_disable[1][1] =<%getVirtualIndex("wlanDisabled", "2");%>;
			mssid_bssid_drv[1][1] ='<%getVirtualInfo("bssid_drv", "2");%>';
			mssid_clientnum[1][1] ='<%getVirtualInfo("clientnum", "2");%>';
			mssid_wep[1][1] ='<%getVirtualInfo("wep", "2");%>';
		}

		if (mssid_num > 2) {
			mssid_ssid_drv[1][2] ='<%getVirtualInfo("ssid_drv", "3");%>';
			mssid_band[1][2] =<%getVirtualIndex("band", "3");%>;
			mssid_disable[1][2] =<%getVirtualIndex("wlanDisabled", "3");%>;
			mssid_bssid_drv[1][2] ='<%getVirtualInfo("bssid_drv", "3");%>';
			mssid_clientnum[1][2] ='<%getVirtualInfo("clientnum", "3");%>';
			mssid_wep[1][2] ='<%getVirtualInfo("wep", "3");%>';
		}

		if (mssid_num > 3) {
			mssid_ssid_drv[1][3] ='<%getVirtualInfo("ssid_drv", "4");%>';
			mssid_band[1][3] =<%getVirtualIndex("band", "4");%>;
			mssid_disable[1][3] =<%getVirtualIndex("wlanDisabled", "4");%>;
			mssid_bssid_drv[1][3] ='<%getVirtualInfo("bssid_drv", "4");%>';
			mssid_clientnum[1][3] ='<%getVirtualInfo("clientnum", "4");%>';
			mssid_wep[1][3] ='<%getVirtualInfo("wep", "4");%>';
		}

		if (mssid_num > 4) {
			mssid_ssid_drv[1][4] ='<%getVirtualInfo("ssid_drv", "5");%>';
			mssid_band[1][4] =<%getVirtualIndex("band", "5");%>;
			mssid_disable[1][4] =<%getVirtualIndex("wlanDisabled", "5");%>;
			mssid_bssid_drv[1][4] ='<%getVirtualInfo("bssid_drv", "5");%>';
			mssid_clientnum[1][4] ='<%getVirtualInfo("clientnum", "5");%>';
			mssid_wep[1][4] ='<%getVirtualInfo("wep", "5");%>';
		}

		if (mssid_num > 5) {
			mssid_ssid_drv[1][5] ='<%getVirtualInfo("ssid_drv", "6");%>';
			mssid_band[1][5] =<%getVirtualIndex("band", "6");%>;
			mssid_disable[1][5] =<%getVirtualIndex("wlanDisabled", "6");%>;
			mssid_bssid_drv[1][5] ='<%getVirtualInfo("bssid_drv", "6");%>';
			mssid_clientnum[1][5] ='<%getVirtualInfo("clientnum", "6");%>';
			mssid_wep[1][5] ='<%getVirtualInfo("wep", "6");%>';
		}

		if (mssid_num > 6) {
			mssid_ssid_drv[1][6] ='<%getVirtualInfo("ssid_drv", "7");%>';
			mssid_band[1][6] =<%getVirtualIndex("band", "7");%>;
			mssid_disable[1][6] =<%getVirtualIndex("wlanDisabled", "7");%>;
			mssid_bssid_drv[1][6] ='<%getVirtualInfo("bssid_drv", "7");%>';
			mssid_clientnum[1][6] ='<%getVirtualInfo("clientnum", "7");%>';
			mssid_wep[1][6] ='<%getVirtualInfo("wep", "7");%>';
		}

		if (mssid_num > 7) {
			mssid_ssid_drv[1][7] ='<%getVirtualInfo("ssid_drv", "8");%>';
			mssid_band[1][7] =<%getVirtualIndex("band", "8");%>;
			mssid_disable[1][7] =<%getVirtualIndex("wlanDisabled", "8");%>;
			mssid_bssid_drv[1][7] ='<%getVirtualInfo("bssid_drv", "8");%>';
			mssid_clientnum[1][7] ='<%getVirtualInfo("clientnum", "8");%>';
			mssid_wep[1][7] ='<%getVirtualInfo("wep", "8");%>';
		}
	} /*if (wlan_num > 1)*/

	for(i=0; i < wlan_num ; i++)
   	{
		if(ssid_drv[i]=="")
			mssid_num=0;
		else
			mssid_num=<%getIndex("wlan_mssid_num");%>;

		if(wlanDisabled[i] == 1)
			continue;

		document.write('<tr bgcolor="#EEEEEE">\
		<td width=100% colspan="2" class=\"tbl_title\"><font size=2>');

		if (wlan_num > 1) {
			var num = i + 1;
			if(num == 1)
				document.write("WiFi-5G 정보");
			else
				document.write("WiFi-2.4G 정보");
		}
		else
			document.write("Wireless Configuration");
		document.write('</td></tr>');

		document.write('<tr bgcolor="#EEEEEE">\
		<td width=30%><font size=2><b>모드</b></td>\
		<td width=70%><font size=2>' );
		/* mode */
		if(wlanMode[i] == 0)
			document.write("AP");
		if (wlanMode[i] == 1) {
			if (networkType[i] == 0)
				document.write( "Infrastructure Client");
			else
				document.write( "Ad-hoc Client");
		}
		if ( wlanMode[i] == 2 )
			document.write( "WDS");
		if ( wlanMode[i] == 3 )
			document.write( "AP+WDS");
		/*#ifdef CONFIG_NEW_MESH_UI*/
		if( isNewMeshUI ==1 )
		{
			if ( wlanMode[i] == 4 )
				document.write( "AP+MESH");
			if ( wlanMode[i] == 5 )
				document.write( "MESH");
		}
		else
		{
			if ( wlanMode[i] == 4 )
				document.write( "AP+MPP");
			if ( wlanMode[i] == 5 )
				document.write( "MPP");
			if ( wlanMode[i] == 6 )
				document.write( "MAP");
			if ( wlanMode[i] == 7 )
				document.write( "MP");
		}
		/* band */
		document.write('</td>\
			<tr bgcolor="#DDDDDD">\
	    		<td width=30%><font size=2><b>Band</b></td>\
	    		<td width=70%><font size=2>');
		if (band[i] == 1)
   			document.write( "2.4 GHz (B)");
    	else
    	if (band[i] == 2)
   			document.write( "2.4 GHz (G)");
    	else
    	if (band[i] == 8)
   		{
    			if(channel_drv[i] > 14)
    				document.write( "5 GHz (N)");
    			else
   				document.write( "2.4 GHz (N)");
   		}
   		else
   		if (band[i] == 3)
   			document.write( "2.4 GHz (B+G)");
    	else
    	if (band[i] == 4)
   			document.write( "5 GHz (A)");
   		else
   		if (band[i] == 10)
   			document.write( "2.4 GHz (G+N)");
   		else
   		if (band[i] == 11)
   			document.write( "2.4 GHz (B+G+N)");
   		else
   		if (band[i] == 12)
   			document.write( "5 GHz (A+N)");
		else
		if (band[i] == 15)
   			document.write( "2.4GHz+5 GHz (A+B+G+N)");
   		else
   		if (band[i] == 76)
   			document.write( "5 GHz (A+N+AC)");
   		else
   		if (band[i] == 64)
   			document.write( "5 GHz (AC)");
   		else
   		if (band[i] == 72)
   			document.write( "5 GHz (N+AC)");
   		else
   		if (band[i] == 68)
   			document.write( "5 GHz (A+AC)");
		document.write('</tr>\
			<tr bgcolor="#EEEEEE">\
    			<td width=30%><font size=2><b>SSID</b></td>\
    			<td width=70%><font size=2>');
		if (wlanMode[i] != 2) {
			document.write(ssid_drv[i]);
		}
		document.write('</td>\
			</tr>\
			<tr bgcolor="#DDDDDD">\
			<td width=30%><font size=2><b>채널 번호</b></td>\
			<td width=70%><font size=2>');
		if (i == 1) {
			var bandwidth = <% getIndex("get_bandwidth"); %>;
			var offset_2nd_chan = parseInt("<% getIndex("get_controlsideband"); %>", 10);
			var ctrlsideband;

			if (offset_2nd_chan == 2) {	//ABOVE == LOWER
				ctrlsideband = "L";
			} else if (offset_2nd_chan == 1) {	//BELOW == UPPER
				ctrlsideband = "U";
			} else {	//	DONT CARE
				ctrlsideband = "";
			}

			if (bandwidth == 0)
				document.write(channel_drv[i] + ' (채널 폭:20MHz)');
			else if (bandwidth == 1)
				document.write(channel_drv[i] + ctrlsideband + ' (채널 폭:20/40MHz)');
			else
				document.write(channel_drv[i]);
		} else {
			document.write(channel_drv[i]);
		}
		document.write('</td>\
			</tr>\
			<tr bgcolor="#EEEEEE">\
			<td width=30%><font size=2><b>암호화</b></td>\
			<td width=70%><font size=2>');
		if (wlanMode[i] == 0 || wlanMode[i] == 1)
    			document.write(wep[i]);
		else if (wlanMode[i] == 2)
    			document.write(wdsEncrypt[i]);
		else if (wlanMode[i] == 3)
    			document.write(wep[i] + '(AP),  ' + wdsEncrypt[i] + '(WDS)');
		else if (wlanMode[i] == 4 || wlanMode[i] == 6)
    			document.write(wep[i] + '(AP),  ' + meshEncrypt[i] + '(Mesh)');
    		else if (wlanMode[i] == 5|| wlanMode[i] == 7)
    			document.write( meshEncrypt[i] + '(Mesh)');

		document.write('</td>\
  			</tr>\
  			<tr bgcolor="#DDDDDD">\
    			<td width=30%><font size=2><b>BSSID</b></td>\
    			<td width=70%><font size=2>'+bssid_drv[i]+'</td>\
  			</tr>');
		if (wlanMode[i]!=2) {	//2 means WDS mode
			document.write('<tr bgcolor="#EEEEEE">\n');
			if (wlanMode[i]==0 || wlanMode[i]==3 || wlanMode[i]==4) {
				document.write("<td width=30%%><font size=2><b>접속된 클라이언트 수</b></td>\n");
				document.write("<td width=70%%><font size=2>"+clientnum[i]+"</td></tr>");
			}
			else {
				document.write("<td width=30%%><font size=2><b>State</b></td>\n");
				document.write('<td width=70%%><font size=2>'+state_drv[i]+'</td></tr>');
			}
       	}

		/* mesh does not support virtual ap */
		if (curLoginUser==0 && !wlanDisabled[i] && (wlanMode[i]==0 || wlanMode[i]==3 )) {
			for (idx=0; idx<mssid_num; idx++) {
				addnum = 1;
				if (!mssid_disable[i][idx] && mssid_ssid_drv[i][idx]) {
					document.write('\
						<tr bgcolor="#EEEEEE">\
						<td width=100% colspan="2" class=\"tbl_title\"><font color="#FFFFFF" size=2>');
						if(num==1)
							document.write('<b>WiFi-5G 가상 무선 인터넷 '+(addnum)+' 환경</td>');
						else
							document.write('<b>WiFi-2.4G 가상 무선 인터넷 '+(addnum)+' 환경</td>');
					document.write('\
						</tr>\
						<tr bgcolor="#EEEEEE">\
	    					<td width=30%><font size=2><b>Band</b></td>\
			    			<td width=70%><font size=2>');
					if (mssid_band[i][idx] == 1)
			   			document.write( "2.4 GHz (B)");
					else if (mssid_band[i][idx] == 2)
			   			document.write( "2.4 GHz (G)");
					else if (mssid_band[i][idx] == 8){
						if(channel_drv[i] > 14)
							document.write( "5 GHz (N)");
						else
			   				document.write( "2.4 GHz (N)");
			   		}
					else if (mssid_band[i][idx] == 3)
			   			document.write( "2.4 GHz (B+G)");
					else if (mssid_band[i][idx] == 4)
			   			document.write( "5 GHz (A)");
					else if (mssid_band[i][idx] == 10)
			   			document.write( "2.4 GHz (G+N)");
					else if (mssid_band[i][idx] == 11)
			   			document.write( "2.4 GHz (B+G+N)");
					else if (mssid_band[i][idx] == 12)
						document.write( "5 GHz (A+N)");
					else if (mssid_band[i][idx] == 76)
						document.write( "5 GHz (A+N+AC)");
					else if (mssid_band[i][idx] == 64)
						document.write( "5 GHz (AC)");
					else if (mssid_band[i][idx] == 68)
						document.write( "5 GHz (A+AC)");
					else if (mssid_band[i][idx] == 72)
						document.write( "5 GHz (N+AC)");

					document.write('</td></tr>\
						<tr bgcolor="#DDDDDD">\
			    			<td width=30%><font size=2><b>SSID</b></td>\
			    			<td width=70%><font size=2>');
					document.write(mssid_ssid_drv[i][idx]+'</td>');

					document.write('</tr>\
						<tr bgcolor="#EEEEEE">\
						<td width=30%><font size=2><b>암호화</b></td>\
						<td width=70%><font size=2>'+mssid_wep[i][idx]+'</td>');

					document.write('</tr>\
						<tr bgcolor="#DDDDDD">\
						<td width=30%><font size=2><b>BSSID</b></td>\
						<td width=70%><font size=2>'+mssid_bssid_drv[i][idx]+'</td>');

					document.write('</tr>\
						<tr bgcolor="#EEEEEE">\
						<td width=30%%><font size=2><b>접속된 클라이언트 수</b></td>\
						<td width=70%%><font size=2>'+mssid_clientnum[i][idx]+'</td></tr>');
					addnum = addnum + 1;
				}
			}
		}

		//    document.write('</table>\
		if (rp_enabled[i])	// start of repeater
		{
			document.write('<tr bgcolor="#EEEEEE">\
				<td width=100% colspan="2" class=\"tbl_title\">');

			if (wlan_num > 1) {
				var num = i + 1;
				document.write("Wireless " + num + " Repeater Interface Configuration");
			}
			else
				document.write("Wireless Repeater Interface Configuration");
			document.write('</td></tr>');

			document.write('<tr bgcolor="#EEEEEE">\
				<td width=30%><font size=2><b>Mode</b></td>\
				<td width=70%><font size=2>' );
			/* mode */
			if(rp_mode[i] == 0)
				document.write("AP");
			else
				document.write( "Infrastructure Client");
			document.write('</td>\
				</tr>\
				<tr bgcolor="#DDDDDD">\
				<td width=30%><font size=2><b>SSID</b></td>\
				<td width=70%><font size=2>'+rp_ssid[i] +'</td>\
				</tr>\
				<tr bgcolor="#EEEEEE">\
				<td width=30%><font size=2><b>Encryption</b></td>\
				<td width=70%><font size=2>'+rp_encrypt[i] +'</td>\
				</tr>\
				<tr bgcolor="#DDDDDD">\
				<td width=30%><font size=2><b>BSSID</b></td>\
				<td width=70%><font size=2>'+rp_bssid[i] +'</td>\
				</tr>');
			document.write('<tr bgcolor="#EEEEEE">\n');
			if (rp_mode[i]==0 || rp_mode[i]==3) {
				document.write("<td width=30%%><font size=2><b>Associated Clients</b></td>\n");
				document.write("<td width=70%%><font size=2>"+rp_clientnum[i]+"</td></tr>");
			}
			else {
				document.write("<td width=30%%><font size=2><b>State</b></td>\n");
				document.write('<td width=70%%><font size=2>'+rp_state[i]+'</td></tr>');
			}
		}	// end of repeater
	}//end of wlan_num for
</script>

<% getInfo("pocketRouter_html_lan_hide_s"); %>
  <tr>
    <td width=100% colspan="2" class="tbl_title"><font size=2>랜 환경</td>
  </tr>
<!--  <tr bgcolor="#EEEEEE">
    <td width=30%><font size=2><b>Attain IP Protocol</b></td>
    <td width=70%><font size=2><% getInfo("dhcp-current"); %></td>
  </tr>-->

  <tr bgcolor="#DDDDDD">
    <td width=30%><font size=2><b>IP 주소</b></td>
    <td width=70%><font size=2><% getInfo("ip"); %></td>
  </tr>
  <tr bgcolor="#EEEEEE">
    <td width=30%><font size=2><b>서브넷 마스크</b></td>
    <td width=70%><font size=2><% getInfo("mask"); %></td>
  </tr>
<!--  <tr bgcolor="#DDDDDD">
    <td width=30%><font size=2><b>Default Gateway</b></td>
    <td width=70%><font size=2><% getInfo("gateway"); %></td>
  </tr>-->
  <tr bgcolor="#DDDDDD">
    <td width=30%><font size=2><b>DHCP 서버</b></td>
    <td width=70%><font size=2>
	<SCRIPT>
      		choice=<%getIndex("dhcp-current");%>;
      		if ( choice == 0 ) document.write( "사용안함" );
    		if ( choice == 2 ) document.write( "사용" );
    		if ( choice == 15 ) document.write( "Auto" );
    		if ( choice == 19 ) document.write( "Auto" );
	</SCRIPT></td>
  </tr>

  <tr bgcolor="#DDDDDD">
    <td width=30%><font size=2><b>MAC 주소</b></td>
    <td width=70%><font size=2><% getInfo("hwaddr"); %></td>
  </tr>
<% getInfo("pocketRouter_html_lan_hide_e"); %>

<% getInfo("pocketRouter_html_wan_hide_s"); %>
<SCRIPT>
	showWan();
</SCRIPT>
<% getInfo("pocketRouter_html_wan_hide_e"); %>
  <% getInfo("voip_status"); %>

<style type="text/css">
div {
    width:15px; height:15px; overflow:hidden; background:#8b0000;
}
</style>

<SCRIPT >portSpeed();</SCRIPT>
<table width=550 border="0">
  <tr>
    <td width=100% colspan="5" class="tbl_title">포트 상태&nbsp;
    <!--<span id='connection_error' style='color:yellow; display:none; font-size:13px;'>인터넷선 연결이 올바르지 않습니다!</span>-->
    </td>
  </tr>
  <tr bgcolor="#DDDDDD">
	<td align="center"><font size=2><b>WAN</b><Div id="wanStatus"></Div>
		<SCRIPT LANGUAGE="JavaScript"> document.write(speedW) </script></td>
    <td align="center"><font size=2><b>LAN1</b><Div id="lan1Status"></Div>
		<SCRIPT LANGUAGE="JavaScript"> document.write(speedL1) </script></td>
    <td align="center"><font size=2><b>LAN2</b><Div id="lan2Status"></Div>
		<SCRIPT LANGUAGE="JavaScript"> document.write(speedL2) </script></td>
    <td align="center"><font size=2><b>LAN3</b><Div id="lan3Status"></Div>
		<SCRIPT LANGUAGE="JavaScript"> document.write(speedL3) </script></td>
    <td align="center"><font size=2><b>LAN4</b><Div id="lan4Status"></Div>
		<SCRIPT LANGUAGE="JavaScript"> document.write(speedL4) </script></td>
  </tr>
  <tr><td>
	<br>
  </td></tr>
</table>
<SCRIPT >portStatus();
/*	if(detect_offer_port >= 1 && detect_offer_port <= 4)
		show_connection_error();*/
</SCRIPT>
</table>
<br>
</blockquote>
</body>
</html>
