<html>
<! Copyright (c) Realtek Semiconductor Corp., 2003~2005. All Rights Reserved. ->
<head>
<meta http-equiv="Content-Type" content="text/html" charset="utf-8">
<% getIndex("no-cache"); %>
<title>System Command</title>
<script type="text/javascript" src="util_gw.js"> </script>
<script type="text/javascript" src="xml_data.js"></script>
<% getInfo("include_css"); %>
<script>
var isMeshDefined = <% getIndex("isMeshDefined"); %>
var str='';
var arrlog= Array();
var httpRequest = null;

function saveClick()
{
	if ( document.formSysLog.rtLogEnabled.checked && checkIpAddr(document.formSysLog.logServer, '로그 서버 IP 주소가 올바르지 않습니다. ') == false )
		return false;
	//document.formSysLog.msg.value="";
	return true;
}

function updateState()
{
	if(document.formSysLog.logEnabled.checked) {
		enableTextField(document.formSysLog.rtLogEnabled);
		enableTextField(document.formSysLog.syslogEnabled);
		updateStateRemote();
	} else {
		disableTextField(document.formSysLog.logServer);
		disableTextField(document.formSysLog.rtLogEnabled);
		disableTextField(document.formSysLog.syslogEnabled);
	}
}

function updateStateRemote()
{
	if(document.formSysLog.rtLogEnabled.checked)
		enableTextField(document.formSysLog.logServer);
	else
		disableTextField(document.formSysLog.logServer);

}

function scrollElementToEnd ()
{
	var div = document.getElementById("display");
	if (div.scrollHeight > 0)
		div.scrollTop = div.scrollHeight;
}

function init()
{
	var cf = document.formSysLog;
	var logEnabled = <%getIndex("logEnabled");%>;
	var rtLogEnabled = <%getIndex("rtLogEnabled");%>;

	if(logEnabled & 1)
		cf.logEnabled.checked = 1;
	else
		cf.logEnabled.checked = 0;

	if((logEnabled>>1) & 1)
		cf.syslogEnabled.checked = 1;
	else
		cf.syslogEnabled.checked = 0;

	if(rtLogEnabled)
		cf.rtLogEnabled.checked = 1;
	else
		cf.rtLogEnabled.checked = 0;

	updateState();
}

function clear_log_buffer()
{
	document.formSysLog.msg.value="";
}

function getValue_()
{
	var result;
	document.formSysLog.Apply.disabled=true;
	document.formSysLog.save.disabled=true;
	document.formSysLog.refresh.disabled=true;
	result = saveClick();
	if (result == false) {
		document.formSysLog.Apply.disabled=false;
		document.formSysLog.save.disabled=false;
		document.formSysLog.refresh.disabled=false;
		return false;
	}
	document.formSysLog.submit();
	return true;
}

</script>
</head>
<blockquote>
<h2>시스템 로그</h2>

<body onload="init(); mouse_r_click();">
  <table border=0 width="800" cellspacing=0 cellpadding=0>
  <tr><font size=2>
	시스템 Log를 보여주는 페이지입니다.
  </tr>
  <tr><hr size=1 noshade align=top></tr>
  <form action=/boafrm/formSysLog method=POST name="formSysLog">

  <tr><td width="200" ><font size=2><b><input type="checkbox" name="logEnabled" value="ON" onClick="updateState()">&nbsp;&nbsp;Log 사용하기</b></font>
  </td></tr><br>

  <table border="0" width=800>
  <tr><td width="25%">&nbsp;&nbsp;&nbsp;&nbsp;<input type="hidden" name="syslogEnabled" value="ON"> </td></tr>
         </table>
  <table border="0" width=800>
  <tr><td width="40%">&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" name="rtLogEnabled" value="ON" onClick="updateStateRemote()"> <font size=2><b>원격 로그 사용하기</b></font><br></td>
   	<td width="60%"><b><font size=2>로그 서버 IP 주소:</b>&nbsp;&nbsp;
	<input type="text" name="logServer" value="<% getInfo("rtLogServer"); %>" size="13" maxlength="16"></td>
  </tr>
  </table>
   <tr><td height=10> </td> </tr>
   <tr><td colspan=2><p><input type="button" value="적용" name="Apply" onClick="getValue_();" >&nbsp;&nbsp; </p></td></tr>

  <p>
  <input type="hidden" value="/syslog.htm" name="submit-url">
	<div id="display" style="width:700px; height:600px; overflow:auto">
  <table name="msg" border="1" rules="none" width="1000" cellpadding="0" cellspacing="1"  bgcolor="white">
  	<% sysLogList(); %>
  </table>
	</div>
  <script>
   scrollElementToEnd();
  </script>
  </p>
  <p>
  <input type="button" value="다시 보기" name="refresh" onClick="javascript: window.location.reload()">
  &nbsp;&nbsp; <input type="submit" value="저장" name="save">
  </p>
</form>
</table>
</body>
</blockquote>
</html>


